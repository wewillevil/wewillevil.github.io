webpackJsonp([1],{KmTw:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("7+uW"),n=r("mvHQ"),a=r.n(n),i=r("Dd8w"),o=r.n(i),s={name:"ContactsTable",props:{list:{type:Array,default:function(){return{}}}},data:function(){return{header:"Phonebook",emptyTitle:"There are no numbers yet :(",alertDescription:"please add the first ! :)"}},methods:{deleteRow:function(e,t){if(!e.leader)for(var r=0;r<t.length;r++)if(t[r].id===e.id)return void t.splice(r,1);if(e.leader)for(var l=0;l<t.length;l++)if(e.leader===t[l].id)for(var n=t[l].children,a=0;a<n.length;a++)if(n[a].id===e.id)return void t[l].children.splice(a,1)}},computed:{isEmpty:function(){return!Object(this.list).length}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{header:e.header,shadow:"never"}},[e.isEmpty?r("el-alert",{attrs:{type:"info",title:e.emptyTitle,description:e.alertDescription,closable:!1,"show-icon":"",center:""}}):[r("el-table",{attrs:{data:e.list,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"},border:""}},[r("el-table-column",{attrs:{prop:"name",label:"Name",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"number",label:"Phone",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.deleteRow(t.row,e.list)}}},[e._v("\n              Delete\n            ")])]}}],null,!1,1176317825)})],1)]],2)],1)},staticRenderFns:[]},u=r("VU/8")(s,d,!1,null,null,null).exports,m={name:"ModalForm",props:{list:{type:Array,default:function(){return{}}}},data:function(){return{dialogVisible:!1,labelPosition:"top",form:{id:"",leader:"",name:"",number:"",children:[]},rules:{name:[{required:!0,message:"Name required",trigger:"blur"},{min:2,message:"Length should be at least 2 characters",trigger:"change"}],number:[{required:!0,message:"Phone number required",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.addItemForm.validate(function(t){if(!t)return!1;e.$emit("submitForm",o()({},e.form)),e.$refs.addItemForm.resetFields(),e.dialogVisible=!1})},onClose:function(){this.$refs.addItemForm.resetFields(),this.dialogVisible=!1}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"modal-wrap",attrs:{shadow:"never"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("New contact")]),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.onClose}},[r("el-form",{ref:"addItemForm",attrs:{model:e.form,data:e.list,rules:e.rules,"label-position":e.labelPosition,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"Name",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Phone number",prop:"number"}},[r("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Team leader",prop:"leader"}},[r("el-select",{model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}},e._l(e.list,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),r("div",{staticClass:"buttons"},[r("el-button",{on:{click:e.onClose}},[e._v("Close")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Save")])],1)],1)],1)],1)},staticRenderFns:[]};var f={name:"App",components:{ContactsTable:u,ModalForm:r("VU/8")(m,c,!1,function(e){r("KmTw")},"data-v-67e0a060",null).exports},data:function(){return{list:[{leader:"",name:"Silvia",number:54321236576,id:17,children:[{leader:17,name:"Joe",number:87653459809,id:191,children:[]}]},{leader:"",name:"Victor",number:98765434560,id:42,children:[{leader:42,name:"Sam",number:145735643798,id:202,children:[]}]}]}},mounted:function(){if(localStorage.getItem("list"))try{this.list=JSON.parse(localStorage.getItem("list"))}catch(e){alert("Data was removed due to an error!"),localStorage.removeItem("list")}},methods:{onFormSubmit:function(e){var t,r=Math.floor(100*Math.random())+e.leader;if(t=o()({},e,{id:r}),e.leader)for(var l=0;l<this.list.length;l++)this.list[l].id===t.leader&&(this.list[l].children=[t],this.saveList());else this.list.push(t),this.saveList()},saveList:function(){var e=a()(this.list);localStorage.setItem("list",e)}}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("ContactsTable",{attrs:{list:this.list}}),this._v(" "),t("ModalForm",{attrs:{list:this.list},on:{submitForm:this.onFormSubmit}})],1)},staticRenderFns:[]};var b=r("VU/8")(f,p,!1,function(e){r("zCRn")},null,null).exports,h=r("wUZ8"),v=r.n(h),g=r("urW8"),_=r.n(g),y=(r("xFAs"),r("zL8q")),F=[y.Button,y.Card,y.Form,y.FormItem,y.Input,y.Select,y.Option,y.Table,y.TableColumn,y.Dialog,y.Alert];_.a.use(v.a),F.forEach(function(e){return l.default.use(e,{locale:_.a})}),l.default.config.productionTip=!1,new l.default({render:function(e){return e(b)}}).$mount("#app")},xFAs:function(e,t){},zCRn:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.afffd1ceaae47e54f2df.js.map